<!-- Sidebar Inicio -->
<body class="g-sidenav-show  bg-gray-200">
  <aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3   bg-gradient-dark" id="sidenav-main">
    <div class="sidenav-header">
      <i class="fas fa-times p-3 cursor-pointer text-white opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
      <a class="navbar-brand m-0" href=" https://demos.creative-tim.com/material-dashboard/pages/dashboard " target="_blank">
         <%= image_tag("logo-ct.png",class:"navbar-brand-img h-100", alt:"main_logo" ) %>
        <span class="ms-1 font-weight-bold text-white">Material Dashboard 2</span>
      </a>
    </div>
    <hr class="horizontal light mt-0 mb-2">
    <div class="collapse navbar-collapse  w-auto  max-height-vh-100" id="sidenav-collapse-main">
      <ul class="navbar-nav">

        <li class="nav-item">
          <%=link_to  root_path, class:"nav-link text-white active bg-gradient-primary" do%>
            <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="material-icons opacity-10">dashboard</i>
            </div>
            <span class="nav-link-text ms-1">Dashboard</span>
          <%end%>     
        </li>
        <!-- Inicio Menu -->
         <%= content_tag :li ,class: "nav-item text-white" do%>
              <%=link_to  clients_path, class:"nav-link text-white" do%>
              <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                <i class="material-icons opacity-10">person</i>
                <span class="nav-link-text ms-1">Clientes</span>
              </div>  
              <%end%>
          <%end%>

          <%= content_tag :li ,class: "nav-item text-white" do%>
            <%=link_to  providers_path, class:"nav-link text-white" do%>
                <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                  <i class="material-icons opacity-10">local_shipping</i>
                  <span class="nav-link-text ms-1">Fornecedores</span>
                </div>  
            <%end%>
          <%end%>

          <%= content_tag :li ,class: "nav-item text-white" do%>
            <%=link_to  categories_path, class:"nav-link text-white" do%>
                <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                  <i class="material-icons opacity-10">create_new_folder</i>
                  <span class="nav-link-text ms-1">Categorias</span>
              </div>  
            <%end%>
          <%end%>

          <%= content_tag :li ,class: "nav-item text-white" do%>
            <%=link_to  products_path, class:"nav-link text-white" do%>
                <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                  <i class="material-icons opacity-10"><i class="fas fa-boxes"></i></i>
                  <span class="nav-link-text ms-1">Produtos</span>
                </div>  
            <%end%>
          <%end%>

          <%= content_tag :li ,class: "nav-item text-white" do%>
            <%=link_to  buys_path, class:"nav-link text-white" do%>
                <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                  <i class="material-icons opacity-10">local_mall</i>
                  <span class="nav-link-text ms-1">Compras</span>
                </div>  
            <%end%>
          <%end%>

          <%= content_tag :li ,class: "nav-item text-white" do%>
            <%=link_to  sells_path, class:"nav-link text-white" do%>
                <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                  <i class="material-icons opacity-10">attach_money</i>
                  <span class="nav-link-text ms-1">Venda</span>
                </div>  
            <%end%>
          <%end%>

          <%= content_tag :li ,class: "nav-item text-white" do%>
            <%=link_to  busca_index_path, class:"nav-link text-white" do%>
                <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                  <i class="material-icons opacity-10">radar</i>
                  <span class="nav-link-text ms-1">Busca RFID</span>
                </div>  
            <%end%>
          <%end%>

          <%= content_tag :li ,class: "nav-item text-white" do%>
            <%=link_to  taxes_path, class:"nav-link ntext-white" do%>
                <div class="text-white text-center me-2 d-flex align-items-center justify-content-center">
                  <i class="material-icons opacity-10">add_business</i>
                  <span class="nav-link-text ms-1">Taxas</span>
                </div>  
            <%end%>
          <%end%>  
        <!-- Final Menu -->         
      </ul>
    </div>
  </aside>
  <!-- Sidebar Final -->
  <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">
   <!-- Navbar Inicio -->
    <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl" id="navbarBlur" navbar-scroll="true">
      <div class="container-fluid py-1 px-3">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
            <li class="breadcrumb-item text-sm"><a class="opacity-5 text-dark"><%= link_to 'Dashboard', root_path%></a></li>
            <li class="breadcrumb-item text-sm"><a class="opacity-5 text-dark"><%= link_to 'Clientes', clients_path %></a></li>
          </ol>
          <h6 class="font-weight-bolder mb-0">Editar Cliente</h6>
        </nav> 
        <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
          <div class="ms-md-auto pe-md-3 d-flex align-items-center">
            <div class="input-group input-group-outline">
            </div>
          </div>
          <ul class="navbar-nav  justify-content-end">
            <li class="nav-item d-flex align-items-center">
              <%if user_signed_in?%>
              <a class="nav-link text-body font-weight-bold px-0">
                <%= link_to destroy_user_session_path, method: :delete do %>
                    <i class="fas fa-sign-out-alt"></i>
                    <span class="d-sm-inline d-none">Sair</span>
                  </a>
                <%end%>
              <%else%>
              <a class="nav-link text-body font-weight-bold px-0">
                <%= link_to new_user_session_path do %>
                    <i class="fa fa-user me-sm-1"></i>
                    <span class="d-sm-inline d-none">Entrar</span>
                  </a>
                <%end%>
              <%end%>
            </li>
            <li class="nav-item d-xl-none ps-3 d-flex align-items-center">
              <a  class="nav-link text-body p-0" id="iconNavbarSidenav">
                <div class="sidenav-toggler-inner">
                  <i class="sidenav-toggler-line"></i>
                  <i class="sidenav-toggler-line"></i>
                  <i class="sidenav-toggler-line"></i>
                </div>
              </a>
            </li>
            <li class="nav-item px-3 d-flex align-items-center">
              <a class="nav-link text-body p-0">
              <%if user_signed_in?%>
              <a class="nav-link text-body font-weight-bold px-0">
                <%= link_to edit_user_registration_path do %>
                    <i class="fa fa-cog fixed-plugin-button-nav cursor-pointer"></i>
                  </a>
                <%end%>
              <%else%>
              <a class="nav-link text-body font-weight-bold px-0">
              <%end%>
              </a>
            </li>
            <li class="nav-item dropdown pe-2 d-flex align-items-center">
              <a class="nav-link text-body p-0" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                <%if user_signed_in?%>
                  <i class="fa fa-bell cursor-pointer"></i>
              </a>
              <%else%>
               <a class="nav-link text-body font-weight-bold px-0">  
              <%end%>
              </a>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Navbar Final -->

    <!-- Inicio Tabela  -->
    <div class="container-fluid py-4">
      <div class="row">
        <div class="col-12">
          <div class="card my-4">
            <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
              <div class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3">
                <h6 class="text-white text-capitalize ps-3">Editar Cliente</h6>
              </div>
            </div>
            <div class="card-body px-0 pb-2">
              <div class="table-responsive p-0">
                <div class="card-body">
                  <%= form_with(model: @client, local: true) do |form| %>
                    <% if @client.errors.any? %>
                      <div id="error_explanation">
                        <h2><%= pluralize(client.errors.count, "error") %> prohibited this client from being saved:</h2>
                        <ul>
                          <% client.errors.full_messages.each do |message| %>
                            <li><%= message %></li>
                          <% end %>
                        </ul>
                      </div>
                    <% end %>
                    <!-- Inicio Form  -->
                     

                    <form>
                      <div class="input-group input-group-outline my-3">
                          <label class="form-label"></label>
                          <%= form.text_field :clientName, class:"form-control",placeholder:"Nome" %>
                        </div>
                        <div class="input-group input-group-outline my-3">
                          <label class="form-label"></label>
                          <%= form.text_field :name, class:"form-control",placeholder:"Sobrenome" %>
                        </div>
                        <div class="input-group input-group-outline my-3">
                          <label class="form-label"></label>
                          <%= form.text_field :corporateName, class: "form-control", placeholder:"Nome da empresa" %>
                        </div>
                        <div class="input-group input-group-outline my-3">
                          <label class="form-label"></label>
                          <%= form.text_field :email, class:"form-control", placeholder:"Email" %>
                        </div>
                        <div class="input-group input-group-outline my-3">
                          <label class="form-label"></label>
                          <%= form.text_field :cnpj, class:"form-control", placeholder:"CNPJ", id:"cnpj" %>
                        </div>
                        <div class="input-group input-group-outline my-3">
                          <label class="form-label"></label>
                          <%= form.text_field :phone, class: "form-control", id:"tel", placeholder:"Telefone"%>
                        </div>
                        <div class="input-group input-group-outline my-3">
                          <label class="form-label"></label>
                          <%= form.text_field :codeClient, class: "form-control", placeholder:"Código do cliente" %>
                        </div>
                        <%= form.fields_for :address do |f| %>
                          <div class="input-group input-group-outline my-3">
                            <%= f.text_field :zipcode, class:"form-control", id:"cep", placeholder:"CEP"%>
                            <button type="button" class="btn btn-primary" id="buscar_cep">Buscar</button>
                          </div>
                          <div class="input-group input-group-outline my-3">
                            <label class="form-label"></label>
                            <%= f.text_field :street, class:"form-control", id:"rua", placeholder:"Rua" %>                            
                          </div>
                          <div class="input-group input-group-outline my-3">
                            <label class="form-label"></label>
                            <%= f.text_field :neighborhood, class:"form-control", id:"bairro", placeholder:"Bairro" %>
                          </div>
                          <div class="input-group input-group-outline my-3">
                            <label class="form-label"></label>
                            <%= f.text_field :state, class:"form-control", id:"uf", placeholder:"Estado" %>
                          </div>
                          <div class="input-group input-group-outline my-3">
                            <label class="form-label"></label>            
                            <%= f.text_field :city, class:"form-control", id:"cidade", placeholder:"Cidade" %>              
                          </div>
                          <div class="input-group input-group-outline my-3">
                            <label class="form-label"></label>
                            <%= f.text_field :number, class:"form-control", placeholder:"Número" %>
                          </div>
                          <div class="input-group input-group-outline my-3">
                            <label class="form-label"></label>
                            <%= f.text_field :complement, class:"form-control", placeholder:"Complemento" %>
                          </div>
                        <%end%> 
                        <div class="actions">
                          <%= link_to 'Voltar', clients_path,  class:"btn btn-success pull-right" %>
                        </div>
                        <p>
                        <div class="actions">
                          <%= form.submit "Editar cliente", class:"btn btn-info pull-right"%>
                        </div>
                        <div class="clearfix"></div>
                    </form>
                  <%end%>
                  <!-- Final Tabela  -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
       <!-- Final Tabela  -->
  

      <footer class="footer py-4  ">
        <div class="container-fluid">
          <div class="row align-items-center justify-content-lg-between">
            <div class="col-lg-6 mb-lg-0 mb-4">
              <div class="copyright text-center text-sm text-muted text-lg-start">
                © <script>
                </script>,
                made with <i class="fa fa-heart"></i> by
                <a href="https://www.creative-tim.com" class="font-weight-bold" target="_blank">Creative Tim</a>
                for a better web.
              </div>
            </div>
            <div class="col-lg-6">
              <ul class="nav nav-footer justify-content-center justify-content-lg-end">
                <li class="nav-item">
                  <a href="https://www.creative-tim.com" class="nav-link text-muted" target="_blank">Creative Tim</a>
                </li>
                <li class="nav-item">
                  <a href="https://www.creative-tim.com/presentation" class="nav-link text-muted" target="_blank">About Us</a>
                </li>
                <li class="nav-item">
                  <a href="https://www.creative-tim.com/blog" class="nav-link text-muted" target="_blank">Blog</a>
                </li>
                <li class="nav-item">
                  <a href="https://www.creative-tim.com/license" class="nav-link pe-0 text-muted" target="_blank">License</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <!-- Final  Tabela  -->
  </main>
  <!--   Core JS Files   -->
  <script src="../javascript/core/popper.min.js"></script>
  <script src="../javascript/core/bootstrap.min.js"></script>
  <script src="../javascript/plugins/perfect-scrollbar.min.js"></script>
  <script src="../javascript/plugins/smooth-scrollbar.min.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.11/jquery.mask.min.js"></script>
  <script>
     document.getElementById('cnpj').addEventListener('input', function (e) {
      var x = e.target.value.replace(/\D/g, '').match(/(\d{0,2})(\d{0,3})(\d{0,3})(\d{0,4})(\d{0,2})/);
      e.target.value = !x[2] ? x[1] : x[1] + '.' + x[2] + '.' + x[3] + '/' + x[4] + (x[5] ? '-' + x[5] : '');
    });

     $(document).ready(function(){
        var SPMaskBehavior = function (val) {
      return val.replace(/\D/g, '').length === 11 ? '(00) 00000-0000' : '(00) 0000-00009';
    },
     spOptions = {
      onKeyPress: function(val, e, field, options) {
        field.mask(SPMaskBehavior.apply({}, arguments), options);
        }
      };

      $('#tel').mask(SPMaskBehavior, spOptions);
    });
  </script>

   <script>
      $(function(){
      $("#buscar_cep").click(function(){
        //Nova variável "cep" somente com dígitos.
        var cep = $("#cep").val().replace(/\D/g, '');
        //Verifica se campo cep possui valor informado.
        if (cep != "") {
            //Expressão regular para validar o CEP.
            var validacep = /^[0-9]{8}$/;
            //Valida o formato do CEP.
            if(validacep.test(cep)) {
            //Consulta o webservice viacep.com.br/
            $.getJSON("//viacep.com.br/ws/"+ cep +"/json/?callback=?", function(dados) {
                    if (!("erro" in dados)) {
                        //Atualiza os campos com os valores da consulta.
                        $("#rua").val(dados.logradouro);
                        $("#bairro").val(dados.bairro);
                        $("#cidade").val(dados.localidade);
                        $("#uf").val(dados.uf);
                    } //end if.
                    else {
                        //CEP pesquisado não foi encontrado.
                        console.log("CEP não encontrado.");
                    }
                });
            } //end if.
            else {
                console.log("Formato de CEP inválido.");
            }
        } //end if.
      });
    });
  </script>
  <script>
    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }
  </script>
  <!-- Github buttons -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="../javascript/material-dashboard.min.js?v=3.0.0"></script>
</body>

</html>                         